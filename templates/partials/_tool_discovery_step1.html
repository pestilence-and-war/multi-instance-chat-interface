{# templates/partials/_tool_discovery_step1.html #}
{# Expects: instance, modules #}
<div class="p-3 bg-indigo-100/50 border border-dashed border-indigo-300 rounded">
    <h5 class="text-sm font-semibold mb-2 text-indigo-700">Step 1: Select a Module to Scan</h5>
    {% if modules %}
        <div class="flex flex-wrap gap-2">
            {% for module_path in modules %}
                <button class="bg-white hover:bg-indigo-50 border border-indigo-300 text-indigo-800 text-sm font-medium py-1 px-3 rounded-full"
                        hx-get="{{ url_for('scan_module_route', instance_id=instance.instance_id, module_path=module_path) }}"
                        hx-target="#tool-discovery-panel-{{ instance.instance_id }}"
                        hx-swap="innerHTML"
                        hx-indicator="#loading-indicator-{{ instance.instance_id }}">
                    {{ module_path }}
                </button>
            {% endfor %}
        </div>
    {% else %}
        <p class="text-sm text-gray-500">No tool modules found in the 'my_tools' directory.</p>
    {% endif %}
</div>
